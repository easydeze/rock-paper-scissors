<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel = "stylesheet" href = "style.css">
    <title>Document</title>
</head>
<body>
    <h1>Rock, Paper, Scissors</h1>
    <div class = "container">
        <button id = "rock">Rock</button>
        <button id = "paper">Paper</button>
        <button id = "scissors">Scissors</button>
    </div>
    <div id = "scoreboard">
        <p>Player score: <div id = "player"></div></p>
        <p>Computer score: <div id = "computer"></div></p>
    </div>
    <div id = "current"></div>
    <div id = "screen"></div>


    <script>

        const scoreboard = document.querySelector('#scoreboard');
        const current = document.querySelector('#current');
        const screen = document.querySelector('#screen');
        const p = document.createElement('p');
        const gif = document.createElement('img');

        const player = document.querySelector('#player');
        let playercount = 0;
        player.textContent = playercount.toString();

        const computer = document.querySelector('#computer');
        let computercount = 0;
        computer.textContent = computercount.toString();
        
        function computerPlay() {
            let random = Math.random();
            if (random < 0.33) {
                return 'rock';
            }
            else if (random < 0.66) {
                return 'scissors';
            }
            else {
                return 'paper';
            }
        }
        
        function playRound(playerSelection, computerSelection) {
            if (playerSelection.toLowerCase() == "rock") {
                if (computerSelection.toLowerCase() == "rock") {
                    p.style.color = 'yellow';
                    p.textContent = 'Draw!'
                    screen.appendChild(p);
                }
                else if (computerSelection.toLowerCase() == "scissors") {
                    playercount += 1;
                    p.style.color = 'lightgreen';
                    p.textContent = 'One point for player, rock beats scissors!'
                    screen.appendChild(p);
                }
                else if (computerSelection.toLowerCase() == "paper") {
                    computercount += 1;
                    p.style.color = 'red';
                    p.textContent = 'One point for computer, paper beats rock!'
                    screen.appendChild(p);
                }
            }
            else if (playerSelection.toLowerCase() == "scissors") {
                if (computerSelection.toLowerCase() == "rock") {
                    computercount += 1;
                    p.style.color = 'red';
                    p.textContent = 'One point for computer, rock beats scissors!'
                    screen.appendChild(p);
                }
                else if (computerSelection.toLowerCase() == "scissors") {
                    p.style.color = 'yellow';
                    p.textContent = 'Draw!'
                    screen.appendChild(p);
                }
                else if (computerSelection.toLowerCase() == "paper") {
                    playercount += 1;
                    p.style.color = 'lightgreen';
                    p.textContent = 'One point for player, scissors beats paper!'
                    screen.appendChild(p);
                }
            }
            else if (playerSelection.toLowerCase() == "paper") {
                if (computerSelection.toLowerCase() == "rock") {
                    playercount += 1;
                    p.style.color = 'lightgreen';
                    p.textContent = 'One point for player, paper beats rock!'
                    screen.appendChild(p);
                }
                else if (computerSelection.toLowerCase() == "scissors") {
                    computercount += 1;
                    p.style.color = 'red';
                    p.textContent = 'One point for computer, scissors beats paper!'
                    screen.appendChild(p);
                }
                else if (computerSelection.toLowerCase() == "paper") {
                    p.style.color = 'yellow';
                    p.textContent = 'Draw!'
                    screen.appendChild(p);
                }
            }
        }

        const inputs = document.querySelectorAll('button')
        inputs.forEach((input) => {
            input.addEventListener('click', () => {
                let playerSelection = input.getAttribute('id');
                let computerSelection = computerPlay();
                console.log(playerSelection, computerSelection);
                playRound(playerSelection, computerSelection);
                player.textContent = playercount.toString();
                computer.textContent = computercount.toString();
                if (playercount >= 5) {
                    document.getElementById("rock").disabled = true;
                    document.getElementById("paper").disabled = true;
                    document.getElementById("scissors").disabled = true;
                    const p = document.createElement('p');
                    p.style.color = 'lightgreen';
                    p.textContent = 'Player won!';
                    gif.src = 'https://media.giphy.com/media/3o84sH4Vr9CblN1dHW/giphy.gif';
                    screen.appendChild(p);
                    screen.appendChild(gif);
                }
                else if (computercount >= 5) {
                    document.getElementById("rock").disabled = true;
                    document.getElementById("paper").disabled = true;
                    document.getElementById("scissors").disabled = true;
                    const p = document.createElement('p');
                    p.style.color = 'red';
                    p.textContent = 'Computer won!'
                    gif.src = 'http://i.stack.imgur.com/SBv4T.gif';
                    screen.appendChild(p);
                    screen.appendChild(gif);
                }
            })
        });



        

    </script>   
</body>
</html>